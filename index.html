<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>UMA Toys - UPI QR Payment</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Fonts for fun style -->
<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Roboto:wght@400;700&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'Roboto', sans-serif;
  text-align: center;
  padding: 20px;
  background: linear-gradient(135deg, #ffe7ba, #ffb3c6);
  min-height: 100vh;
  margin: 0;
}
h2 {
  font-family: 'Fredoka One', cursive;
  color: #ff4c4c;
  font-size: 2.5em;
  margin-bottom: 20px;
}
input {
  width: 80%;
  padding: 15px;
  font-size: 18px;
  border: 2px solid #ff4c4c;
  border-radius: 10px;
  margin-bottom: 15px;
  outline: none;
}
input:focus {
  border-color: #0a7cff;
  box-shadow: 0 0 8px rgba(10,124,255,0.5);
}
button {
  padding: 15px 25px;
  font-size: 18px;
  background: #0a7cff;
  color: #fff;
  border: none;
  border-radius: 12px;
  margin-top: 10px;
  cursor: pointer;
  transition: transform 0.2s;
}
button:hover {
  transform: scale(1.05);
  background: #055acc;
}
canvas {
  margin-top: 20px;
  max-width: 100%;
  border-radius: 20px;
  border: 4px solid #ff4c4c;
  display: none;
}
#shareBtn {
  display: none;
  background: #ff4c4c;
}
#shareBtn:hover {
  background: #cc3a3a;
}
p {
  margin-top: 30px;
  font-size: 18px;
  color: #333;
}
</style>

<!-- QRCode.js library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

</head>
<body>

<h2>UMA Toys - Pay via UPI</h2>

<input type="text" id="amount" placeholder="Enter Amount (₹)">
<br>
<button onclick="generateQR()">Generate QR</button>

<br>
<canvas id="canvas" width="600" height="800"></canvas>
<br>
<button id="shareBtn" onclick="shareImage()">Share Image</button>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
const shareBtn = document.getElementById("shareBtn");
const UPI_ID = "nithin0832@oksbi"; // Replace with your UPI ID

function generateQR() {
  const amount = document.getElementById("amount").value.trim();
  if (!amount) {
    alert("Please enter an amount");
    return;
  }

  const upiURL = `upi://pay?pa=${encodeURIComponent(UPI_ID)}&pn=UMA Toys&am=${amount}&cu=INR`;

  const tempDiv = document.createElement("div");
  new QRCode(tempDiv, {
    text: upiURL,
    width: 300,
    height: 300,
    correctLevel: QRCode.CorrectLevel.H
  });

  const qrCanvas = tempDiv.querySelector("canvas");
  if (!qrCanvas) {
    alert("QR generation failed");
    return;
  }

  setTimeout(() => {
    canvas.style.display = "block";
    shareBtn.style.display = "inline-block";

    // Clear main canvas
    ctx.fillStyle = "#fff3f3";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    // Title
    ctx.fillStyle = "#ff4c4c";
    ctx.font = "bold 36px 'Fredoka One'";
    ctx.textAlign = "center";
    ctx.fillText("UMA Toys Payment", canvas.width / 2, 100);

    // Amount
    ctx.font = "bold 48px Roboto";
    ctx.fillStyle = "#0a7cff";
    ctx.fillText("₹ " + amount, canvas.width / 2, 200);

    // Draw QR
    ctx.drawImage(qrCanvas, 150, 260, 300, 300);

    // Text below QR
    ctx.font = "20px Roboto";
    ctx.fillStyle = "#555";
    ctx.fillText("Scan using any UPI App", canvas.width / 2, 620);

    // Scroll to share button
    shareBtn.scrollIntoView({ behavior: "smooth" });
  }, 50);
}

async function shareImage() {
  canvas.toBlob(async (blob) => {
    const file = new File([blob], "uma-toys-payment.png", { type: "image/png" });

    if (navigator.canShare && navigator.canShare({ files: [file] })) {
      await navigator.share({
        files: [file],
        title: "UMA Toys Payment QR",
        text: "Scan & Pay"
      });
    } else {
      alert("Sharing not supported on this device");
    }
  });
}
</script>

<p>Thanks for visiting UMA Toys!</p>

</body>
</html>
